<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you go on a date with me?</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#ff6b6b;--muted:#94a3b8}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial;display:grid;place-items:center;background:var(--bg);color:#e6eef8;transition:background 0.5s ease}
    .card{width:min(780px,92vw);background:linear-gradient(180deg,rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:28px 28px 36px;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03);text-align:center}
    h1{margin:0 0 8px;font-size:28px}
    p.lead{margin:0 0 22px;color:var(--muted)}
    #button-area{position:relative;height:150px;display:flex;align-items:center;justify-content:center}
    .btn{appearance:none;border:0;padding:14px 22px;border-radius:12px;font-weight:600;cursor:pointer;user-select:none;transition:transform .15s ease, box-shadow .15s ease}
    #yesBtn{background:linear-gradient(90deg,var(--accent),#ff8e8e);color:#081022;box-shadow:0 8px 22px rgba(255,107,107,0.18)}
    #noBtn{position:absolute;background:transparent;color:#e6eef8;border:2px solid rgba(230,238,248,0.08);padding:12px 18px;border-radius:12px}
    #noBtn.moved{box-shadow:0 8px 30px rgba(0,0,0,0.5);}
    footer.small{margin-top:14px;color:var(--muted);font-size:13px}

    /* celebration overlay */
    .overlay{position:fixed;inset:0;display:grid;place-items:center;background:rgba(2,6,23,0.6);opacity:0;pointer-events:none;transition:opacity .25s ease}
    .overlay.show{opacity:1;pointer-events:auto}
    .modal{background:linear-gradient(180deg,#fff 0%, #fff6f6 100%);color:#081022;padding:28px 26px;border-radius:12px;box-shadow:0 20px 60px rgba(2,6,23,0.6);text-align:center;max-width:420px}
    .modal h2{margin:0 0 8px}
    .hearts{margin-top:10px;display:flex;gap:10px;justify-content:center}
    .heart{width:28px;height:28px;font-size:22px;transform:scale(0);animation:pop .6s cubic-bezier(.2,.9,.35,1) forwards}
    .heart:nth-child(2){animation-delay:.08s}
    .heart:nth-child(3){animation-delay:.16s}
    @keyframes pop{0%{transform:scale(0);opacity:0}60%{transform:scale(1.15);opacity:1}100%{transform:scale(1);opacity:1}}

    /* floating hearts background */
    .hearts-bg{position:fixed;inset:0;overflow:hidden;z-index:-1;}
    .hearts-bg span{position:absolute;color:#ff6b6b;font-size:20px;animation:float 6s linear infinite;opacity:0.8}
    @keyframes float{0%{transform:translateY(100vh) scale(0.8);opacity:0}20%{opacity:1}80%{opacity:1}100%{transform:translateY(-10vh) scale(1.2);opacity:0}}

    /* responsive */
    @media (max-width:420px){h1{font-size:20px}}
  </style>
</head>
<body>
  <div class="card" id="card">
    <h1>Will you go on a date with me?</h1>
    <p class="lead">I promise good company, terrible jokes, and maybe dessert‚Äîchoose wisely ‚ù§Ô∏è</p>

    <div id="button-area" aria-hidden="false">
      <button id="yesBtn" class="btn">Yes</button>
      <button id="noBtn" class="btn" aria-label="No">No</button>
    </div>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="modal">
      <h2>Yay! üéâ</h2>
      <p>Thanks for saying yes ‚Äî I'll text you the details. üíå</p>
      <div class="hearts">
        <div class="heart">‚ù§Ô∏è</div>
        <div class="heart">üíñ</div>
        <div class="heart">üíò</div>
      </div>
      <div style="margin-top:16px"><button id="closeModal" class="btn">Close</button></div>
    </div>
  </div>

  <div class="hearts-bg" id="heartsBg"></div>

  <script>
    (function(){
      const container = document.getElementById('button-area');
      const noBtn = document.getElementById('noBtn');
      const yesBtn = document.getElementById('yesBtn');
      const overlay = document.getElementById('overlay');
      const closeModal = document.getElementById('closeModal');
      const heartsBg = document.getElementById('heartsBg');

      function placeInitial(){
        yesBtn.style.position = 'relative';
        yesBtn.style.zIndex = 2;
        const area = container.getBoundingClientRect();
        const nx = Math.max(10, area.width/2 + 80);
        const ny = (area.height - noBtn.offsetHeight)/2;
        noBtn.style.left = nx + 'px';
        noBtn.style.top = ny + 'px';
      }

      function moveNo(){
        const area = container.getBoundingClientRect();
        const btnW = noBtn.offsetWidth;
        const btnH = noBtn.offsetHeight;
        const yesRect = yesBtn.getBoundingClientRect();
        const padding = 8;
        const maxX = Math.max(0, area.width - btnW - padding);
        const maxY = Math.max(0, area.height - btnH - padding);

        let attempts = 0;
        while(attempts < 40){
          const x = Math.floor(Math.random() * (maxX + 1));
          const y = Math.floor(Math.random() * (maxY + 1));
          const absX = area.left + x;
          const absY = area.top + y;
          const dx = (absX + btnW/2) - (yesRect.left + yesRect.width/2);
          const dy = (absY + btnH/2) - (yesRect.top + yesRect.height/2);
          const dist = Math.hypot(dx,dy);
          if(dist > Math.max(120, Math.min(area.width, area.height)/4)){
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.classList.add('moved');
            return;
          }
          attempts++;
        }
        const fallbackX = (noBtn.offsetLeft + area.width/2) % maxX;
        const fallbackY = (noBtn.offsetTop + 30) % maxY;
        noBtn.style.left = fallbackX + 'px';
        noBtn.style.top = fallbackY + 'px';
      }

      function handleMove(e){
        const area = container.getBoundingClientRect();
        const mouseX = e.clientX - area.left;
        const mouseY = e.clientY - area.top;
        const btnRect = noBtn.getBoundingClientRect();
        const btnX = btnRect.left - area.left + btnRect.width/2;
        const btnY = btnRect.top - area.top + btnRect.height/2;
        const dist = Math.hypot(mouseX - btnX, mouseY - btnY);
        const threshold = Math.max(80, Math.min(area.width, area.height) * 0.18);
        if(dist < threshold){
          moveNo();
        }
      }

      function handleTouch(e){
        if(!e.touches || e.touches.length === 0) return;
        const t = e.touches[0];
        const area = container.getBoundingClientRect();
        const touchX = t.clientX - area.left;
        const touchY = t.clientY - area.top;
        const btnRect = noBtn.getBoundingClientRect();
        const btnX = btnRect.left - area.left + btnRect.width/2;
        const btnY = btnRect.top - area.top + btnRect.height/2;
        const dist = Math.hypot(touchX - btnX, touchY - btnY);
        if(dist < 120) moveNo();
      }

      container.addEventListener('mousemove', handleMove);
      container.addEventListener('touchstart', handleTouch);
      container.addEventListener('touchmove', handleTouch);
      noBtn.addEventListener('mouseenter', ()=> moveNo());
      noBtn.addEventListener('click', (e)=>{
        e.preventDefault();
        noBtn.textContent = 'üòÖ Nope';
        moveNo(true);
      });

      yesBtn.addEventListener('click', ()=>{
        overlay.classList.add('show');
        document.body.style.background = 'lightpink';
        for(let i=0;i<20;i++){
          const span = document.createElement('span');
          span.textContent = '‚ù§Ô∏è';
          span.style.left = Math.random()*100 + 'vw';
          span.style.fontSize = (20 + Math.random()*30) + 'px';
          span.style.animationDuration = (4 + Math.random()*4)+'s';
          heartsBg.appendChild(span);
        }
      });

      closeModal.addEventListener('click', ()=> overlay.classList.remove('show'));
      window.addEventListener('load', placeInitial);
      window.addEventListener('resize', ()=> setTimeout(placeInitial,120));
      noBtn.addEventListener('focus', ()=> moveNo());

    })();
  </script>
</body>
</html>